import{d as E,a as s,o as R,b as V,j as t,k as a,t as y,l as g,v as _,m as U,q as F,x as H,y as N,z as j}from"./@vue.c9d1e8f9.js";import{t as A}from"./qrcode.6f081a26.js";import{_ as G}from"./index.322f65f8.js";import"./encode-utf8.c8acd0c0.js";import"./dijkstrajs.ba1d3fe1.js";import"./vue-router.6d5b1287.js";const d=k=>(N("data-v-ac8bdb3d"),k=k(),j(),k),O={class:"desktop-view with-scroll"},W={class:"output-selector"},J={key:0,class:"text-source"},K={style:{"margin-bottom":"0.5rem"}},P=d(()=>t("b",null,"words limit:",-1)),X=H("\xA0 "),Y=["maxlength"],Z={key:1,class:"url-source"},ee={class:"protocol-box"},te={class:"custom-options"},oe={class:"conf-line"},le=d(()=>t("span",{class:"conf-label"},"dark area color",-1)),se={class:"conf-line"},ae=d(()=>t("span",{class:"conf-label"},"light area color",-1)),ne={class:"conf-line"},ie=d(()=>t("span",{class:"conf-label"},"quiet zone width",-1)),re={style:{"margin-left":"0.5rem"}},ce={class:"conf-line"},ue=d(()=>t("span",{class:"conf-label"},"error correction",-1)),de={class:"radios"},ve={class:"conf-line"},pe=d(()=>t("span",{class:"conf-label"},"image (<1M)",-1)),me=E({__name:"Desktop",setup(k){const r=s("text"),w=s({L:900,M:700,Q:550,H:400}),D=s({L:.07,M:.15,Q:.25,H:.3}),c=s(""),v=s("https"),h=s(""),x=s(!1),I=s("#000000"),M=s("#ffffff"),b=s(4),n=s("M"),C=l=>{n.value=l,c.value=c.value.slice(0,w.value[l])},S=s(""),p=s(""),q=()=>{const l=document.createElement("input");l.type="file",l.accept=".png, .jpg",l.onchange=()=>{var o;const e=(o=l.files)==null?void 0:o[0];if(e)if(e.size>1024*1024)alert("Oversize(required to be smaller then 1MB)");else{const i=new FileReader;i.onload=()=>{p.value=e.name,S.value=i.result},i.readAsDataURL(e)}else return},l.click()},T=()=>{S.value="",p.value=""},$=s(),L=l=>{const e=$.value;if(!e)return;e.style.width="300px",e.style.height="150px",e.width=300,e.height=150;const o=e.getContext("2d");o.fillStyle="#777",o.font="16px bold",o.fillText(l!=null?l:"Failed to generate QRCode. \u{1F605}",0,16)},Q=l=>{const e=$.value;if(!e)return;const o={errorCorrectionLevel:n.value,color:{dark:I.value,light:M.value},margin:b.value};A(e,l,o).then(()=>{if(p.value!==""){const i=e.getContext("2d"),m=e.width,f=Math.floor(m*D.value[n.value]),u=Math.floor(f*.8),z=new Image(u,u);z.src=S.value,z.onload=()=>{i.fillStyle="#fff",i.fillRect((m-f)/2,(m-f)/2,f,f),i.drawImage(z,(m-u)/2,(m-u)/2,u,u)}}}).catch(i=>{console.log(i),L()})},B=()=>{switch(r.value){case"text":c.value.trim()===""?L("Empty Input!"):Q(c.value);break;case"url":h.value.trim()===""?L("Empty Input!"):Q(`${v.value}://${h.value}`);break}};return(l,e)=>(R(),V("div",O,[t("div",W,[t("div",{class:a(r.value==="text"?"active":"default"),onClick:e[0]||(e[0]=o=>r.value="text")}," Text ",2),t("div",{class:a(r.value==="url"?"active":"default"),onClick:e[1]||(e[1]=o=>r.value="url")}," URL ",2)]),r.value==="text"?(R(),V("div",J,[t("div",K,[P,X,t("i",null,y(c.value.length)+" / "+y(w.value[n.value]),1)]),g(t("textarea",{class:"text-box","onUpdate:modelValue":e[2]||(e[2]=o=>c.value=o),maxlength:w.value[n.value]},null,8,Y),[[_,c.value]])])):U("",!0),r.value==="url"?(R(),V("div",Z,[t("div",ee,[t("div",{class:a(v.value==="https"?"active":"default"),onClick:e[3]||(e[3]=o=>v.value="https")}," https:// ",2),t("div",{class:a(v.value==="http"?"active":"default"),onClick:e[4]||(e[4]=o=>v.value="http")}," http:// ",2)]),g(t("input",{class:"address-box",type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>h.value=o)},null,512),[[_,h.value]])])):U("",!0),t("div",te,[t("div",{class:a(x.value?"configure-active":"configure-default"),onClick:e[6]||(e[6]=o=>x.value=!x.value)}," More Configuration ",2),t("div",{class:"configure-box",style:F(x.value?"height: 15rem; margin-top: 1rem; border: solid 1px #7b7b7b;":"height: 0; margin: 0; border: none;")},[t("div",oe,[le,g(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[7]||(e[7]=o=>I.value=o)},null,512),[[_,I.value]])]),t("div",se,[ae,g(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[8]||(e[8]=o=>M.value=o)},null,512),[[_,M.value]])]),t("div",ne,[ie,g(t("input",{class:"slider",type:"range","onUpdate:modelValue":e[9]||(e[9]=o=>b.value=o),min:"0",max:"20",step:"1"},null,512),[[_,b.value]]),t("span",re,y(b.value),1)]),t("div",ce,[ue,t("div",de,[t("span",{class:a(n.value==="L"?"radio-active":"radio-default"),onClick:e[10]||(e[10]=o=>C("L"))}," low ",2),t("span",{class:a(n.value==="M"?"radio-active":"radio-default"),onClick:e[11]||(e[11]=o=>C("M"))}," medium ",2),t("span",{class:a(n.value==="Q"?"radio-active":"radio-default"),onClick:e[12]||(e[12]=o=>C("Q"))}," quartile ",2),t("span",{class:a(n.value==="H"?"radio-active":"radio-default"),onClick:e[13]||(e[13]=o=>C("H"))}," high ",2)])]),t("div",ve,[pe,t("div",{class:"image-picker",onClick:q},"pick"),t("span",{class:a(["image-name",p.value===""?"":"clear-marker"]),title:"click to remove",onClick:T},y(p.value||"unused"),3)])],4)]),t("div",{class:"fake-btn",onClick:B},"Generate QR Code"),t("canvas",{ref_key:"outputContainer",ref:$},null,512)]))}});const be=G(me,[["__scopeId","data-v-ac8bdb3d"]]);export{be as default};
