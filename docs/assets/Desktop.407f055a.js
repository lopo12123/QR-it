import{d as j,a as l,o as I,b as $,j as t,k as i,t as k,l as _,v as h,m as D,q as E,x as A,y as G,z as W}from"./@vue.db1fd9a1.js";import{t as J}from"./qrcode.6b0ce03c.js";import{_ as K}from"./index.66950d84.js";import"./encode-utf8.c8acd0c0.js";import"./dijkstrajs.197e4439.js";import"./vue-router.43edfa6c.js";const d=x=>(G("data-v-abd35d85"),x=x(),W(),x),O={class:"desktop-view with-scroll"},P={class:"output-selector"},X={key:0,class:"text-source"},Y={style:{"margin-bottom":"0.5rem"}},Z=d(()=>t("b",null,"words limit:",-1)),ee=E("\xA0 "),te=["maxlength"],oe={key:1,class:"url-source"},se={class:"protocol-box"},le={key:2,class:"image-source"},ae={class:"image-source-name"},ie=d(()=>t("b",null,"File Name:",-1)),ne={class:"custom-options"},ce={class:"conf-line"},re=d(()=>t("span",{class:"conf-label"},"dark area color",-1)),ue={class:"conf-line"},de=d(()=>t("span",{class:"conf-label"},"light area color",-1)),ve={class:"conf-line"},pe=d(()=>t("span",{class:"conf-label"},"quiet zone width",-1)),me={style:{"margin-left":"0.5rem"}},fe={class:"conf-line"},ge=d(()=>t("span",{class:"conf-label"},"error correction",-1)),ke={class:"radios"},_e={class:"conf-line"},he=d(()=>t("span",{class:"conf-label"},"image (<1M)",-1)),xe=j({__name:"Desktop",setup(x){const n=l("text"),L=l({L:900,M:700,Q:550,H:400}),F=l({L:.07,M:.15,Q:.25,H:.3}),r=l(""),p=l("https"),b=l(""),M=l(""),T=l(""),N=()=>{const s=document.createElement("input");s.type="file",s.accept=".png, .jpg",s.onchange=()=>{var o;const e=(o=s.files)==null?void 0:o[0];if(e)if(e.size>1500)u("The picture seems too big!");else{u("");const a=new FileReader;a.onload=()=>{M.value=e.name,T.value=a.result},a.readAsDataURL(e)}else return},s.click()},C=l(!1),R=l("#000000"),y=l("#ffffff"),w=l(4),c=l("M"),S=s=>{c.value=s,r.value=r.value.slice(0,L.value[s])},z=l(""),m=l(""),q=()=>{const s=document.createElement("input");s.type="file",s.accept=".png, .jpg",s.onchange=()=>{var o;const e=(o=s.files)==null?void 0:o[0];if(e)if(e.size>1024*1024)u("Too big, need less than 1MB!");else{const a=new FileReader;a.onload=()=>{m.value=e.name,z.value=a.result},a.readAsDataURL(e)}else return},s.click()},B=()=>{z.value="",m.value=""},U=l(),u=s=>{const e=U.value;if(!e)return;e.style.width="300px",e.style.height="150px",e.width=300,e.height=150;const o=e.getContext("2d");o.fillStyle="#777",o.font="16px bold",o.fillText(s!=null?s:"Failed to generate QRCode. \u{1F605}",0,16)},V=s=>{const e=U.value;if(!e)return;const o={errorCorrectionLevel:c.value,color:{dark:R.value,light:y.value},margin:w.value};J(e,s,o).then(()=>{if(m.value!==""){const a=e.getContext("2d"),f=e.width,g=Math.floor(f*F.value[c.value]),v=Math.floor(g*.8),Q=new Image(v,v);Q.src=z.value,Q.onload=()=>{a.fillStyle=y.value,a.fillRect((f-g)/2,(f-g)/2,g,g),a.drawImage(Q,(f-v)/2,(f-v)/2,v,v)}}}).catch(a=>{console.log(a),u()})},H=()=>{switch(n.value){case"text":r.value.trim()===""?u("Empty Input!"):V(r.value);break;case"url":b.value.trim()===""?u("Empty Input!"):V(`${p.value}://${b.value}`);break;case"image":M.value===""?u("Empty Input!"):V(`https://lopo12123.github.io/qr-it/#/image-server?code=${T.value}`);break}};return(s,e)=>(I(),$("div",O,[t("div",P,[t("div",{class:i(n.value==="text"?"active":"default"),onClick:e[0]||(e[0]=o=>n.value="text")}," Text ",2),t("div",{class:i(n.value==="url"?"active":"default"),onClick:e[1]||(e[1]=o=>n.value="url")}," URL ",2),t("div",{class:i(n.value==="image"?"active":"default"),onClick:e[2]||(e[2]=o=>n.value="image")}," Image ",2)]),n.value==="text"?(I(),$("div",X,[t("div",Y,[Z,ee,t("i",null,k(r.value.length)+" / "+k(L.value[c.value]),1)]),_(t("textarea",{class:"text-box","onUpdate:modelValue":e[3]||(e[3]=o=>r.value=o),maxlength:L.value[c.value]},null,8,te),[[h,r.value]])])):D("",!0),n.value==="url"?(I(),$("div",oe,[t("div",se,[t("div",{class:i(p.value==="https"?"active":"default"),onClick:e[4]||(e[4]=o=>p.value="https")}," https:// ",2),t("div",{class:i(p.value==="http"?"active":"default"),onClick:e[5]||(e[5]=o=>p.value="http")}," http:// ",2)]),_(t("input",{class:"address-box",type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>b.value=o)},null,512),[[h,b.value]])])):D("",!0),n.value==="image"?(I(),$("div",le,[t("div",{class:"image-source-picker",onClick:N},"Select Image Source"),t("div",ae,[ie,E(" "+k(M.value||"UnSelected"),1)])])):D("",!0),t("div",ne,[t("div",{class:i(C.value?"configure-active":"configure-default"),onClick:e[7]||(e[7]=o=>C.value=!C.value)}," More Configuration ",2),t("div",{class:"configure-box",style:A(C.value?"height: 15rem; margin-top: 1rem; border: solid 1px #7b7b7b;":"height: 0; margin: 0; border: none;")},[t("div",ce,[re,_(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[8]||(e[8]=o=>R.value=o)},null,512),[[h,R.value]])]),t("div",ue,[de,_(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[9]||(e[9]=o=>y.value=o)},null,512),[[h,y.value]])]),t("div",ve,[pe,_(t("input",{class:"slider",type:"range","onUpdate:modelValue":e[10]||(e[10]=o=>w.value=o),min:"0",max:"20",step:"1"},null,512),[[h,w.value]]),t("span",me,k(w.value),1)]),t("div",fe,[ge,t("div",ke,[t("span",{class:i(c.value==="L"?"radio-active":"radio-default"),onClick:e[11]||(e[11]=o=>S("L"))}," low ",2),t("span",{class:i(c.value==="M"?"radio-active":"radio-default"),onClick:e[12]||(e[12]=o=>S("M"))}," medium ",2),t("span",{class:i(c.value==="Q"?"radio-active":"radio-default"),onClick:e[13]||(e[13]=o=>S("Q"))}," quartile ",2),t("span",{class:i(c.value==="H"?"radio-active":"radio-default"),onClick:e[14]||(e[14]=o=>S("H"))}," high ",2)])]),t("div",_e,[he,t("div",{class:"image-picker",onClick:q},"pick"),t("span",{class:i(["image-name",m.value===""?"":"clear-marker"]),title:"click to remove",onClick:B},k(m.value||"unused"),3)])],4)]),t("div",{class:"fake-btn",onClick:H},"Generate QR Code"),t("canvas",{ref_key:"outputContainer",ref:U},null,512)]))}});const $e=K(xe,[["__scopeId","data-v-abd35d85"]]);export{$e as default};
