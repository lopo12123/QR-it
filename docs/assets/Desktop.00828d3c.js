import{d as j,a as o,o as I,b as $,j as t,k as i,t as _,l as k,v as h,m as D,q as E,x as A,y as G,z as W}from"./@vue.c5c31431.js";import{t as J}from"./qrcode.6f081a26.js";import{_ as K}from"./index.d02fe89d.js";import"./encode-utf8.c8acd0c0.js";import"./dijkstrajs.ba1d3fe1.js";import"./vue-router.9986b8dc.js";const d=b=>(G("data-v-0fdfbe4d"),b=b(),W(),b),O={class:"desktop-view with-scroll"},P={class:"output-selector"},X={key:0,class:"text-source"},Y={style:{"margin-bottom":"0.5rem"}},Z=d(()=>t("b",null,"words limit:",-1)),ee=E("\xA0 "),te=["maxlength"],se={key:1,class:"url-source"},le={class:"protocol-box"},oe={key:2,class:"image-source"},ae={class:"image-source-name"},ie=d(()=>t("b",null,"File Name:",-1)),ne={class:"custom-options"},ce={class:"conf-line"},re=d(()=>t("span",{class:"conf-label"},"dark area color",-1)),ue={class:"conf-line"},de=d(()=>t("span",{class:"conf-label"},"light area color",-1)),ve={class:"conf-line"},pe=d(()=>t("span",{class:"conf-label"},"quiet zone width",-1)),me={style:{"margin-left":"0.5rem"}},fe={class:"conf-line"},ge=d(()=>t("span",{class:"conf-label"},"error correction",-1)),_e={class:"radios"},ke={class:"conf-line"},he=d(()=>t("span",{class:"conf-label"},"image (<1M)",-1)),be=j({__name:"Desktop",setup(b){const n=o("text"),L=o({L:900,M:700,Q:550,H:400}),F=o({L:.07,M:.15,Q:.25,H:.3}),r=o(""),p=o("https"),x=o(""),M=o(""),T=o(""),N=()=>{const l=document.createElement("input");l.type="file",l.accept=".png, .jpg",l.onchange=()=>{var s;const e=(s=l.files)==null?void 0:s[0];if(e)if(e.size>1500)u("The picture seems too big!");else{u("");const a=new FileReader;a.onload=()=>{M.value=e.name,T.value=a.result},a.readAsDataURL(e)}else return},l.click()},C=o(!1),R=o("#000000"),y=o("#ffffff"),w=o(4),c=o("M"),S=l=>{c.value=l,r.value=r.value.slice(0,L.value[l])},z=o(""),m=o(""),q=()=>{const l=document.createElement("input");l.type="file",l.accept=".png, .jpg",l.onchange=()=>{var s;const e=(s=l.files)==null?void 0:s[0];if(e)if(e.size>1024*1024)u("Too big, need less than 1MB!");else{const a=new FileReader;a.onload=()=>{m.value=e.name,z.value=a.result},a.readAsDataURL(e)}else return},l.click()},B=()=>{z.value="",m.value=""},U=o(),u=l=>{const e=U.value;if(!e)return;e.style.width="300px",e.style.height="150px",e.width=300,e.height=150;const s=e.getContext("2d");s.fillStyle="#777",s.font="16px bold",s.fillText(l!=null?l:"Failed to generate QRCode. \u{1F605}",0,16)},V=l=>{const e=U.value;if(!e)return;const s={errorCorrectionLevel:c.value,color:{dark:R.value,light:y.value},margin:w.value};J(e,l,s).then(()=>{if(m.value!==""){const a=e.getContext("2d"),f=e.width,g=Math.floor(f*F.value[c.value]),v=Math.floor(g*.8),Q=new Image(v,v);Q.src=z.value,Q.onload=()=>{a.fillStyle=y.value,a.fillRect((f-g)/2,(f-g)/2,g,g),a.drawImage(Q,(f-v)/2,(f-v)/2,v,v)}}}).catch(a=>{console.log(a),u()})},H=()=>{switch(n.value){case"text":r.value.trim()===""?u("Empty Input!"):V(r.value);break;case"url":x.value.trim()===""?u("Empty Input!"):V(`${p.value}://${x.value}`);break;case"image":if(M.value==="")u("Empty Input!");else{const l=T.value.replace(/=/g,"").replace(/\//g,"-").replace(/\+/g,"_");V(`https://lopo12123.github.io/qr-it/#/image-server?code=${l}`)}break}};return(l,e)=>(I(),$("div",O,[t("div",P,[t("div",{class:i(n.value==="text"?"active":"default"),onClick:e[0]||(e[0]=s=>n.value="text")}," Text ",2),t("div",{class:i(n.value==="url"?"active":"default"),onClick:e[1]||(e[1]=s=>n.value="url")}," URL ",2),t("div",{class:i(n.value==="image"?"active":"default"),onClick:e[2]||(e[2]=s=>n.value="image")}," Image ",2)]),n.value==="text"?(I(),$("div",X,[t("div",Y,[Z,ee,t("i",null,_(r.value.length)+" / "+_(L.value[c.value]),1)]),k(t("textarea",{class:"text-box","onUpdate:modelValue":e[3]||(e[3]=s=>r.value=s),maxlength:L.value[c.value]},null,8,te),[[h,r.value]])])):D("",!0),n.value==="url"?(I(),$("div",se,[t("div",le,[t("div",{class:i(p.value==="https"?"active":"default"),onClick:e[4]||(e[4]=s=>p.value="https")}," https:// ",2),t("div",{class:i(p.value==="http"?"active":"default"),onClick:e[5]||(e[5]=s=>p.value="http")}," http:// ",2)]),k(t("input",{class:"address-box",type:"text","onUpdate:modelValue":e[6]||(e[6]=s=>x.value=s)},null,512),[[h,x.value]])])):D("",!0),n.value==="image"?(I(),$("div",oe,[t("div",{class:"image-source-picker",onClick:N},"Select Image Source"),t("div",ae,[ie,E(" "+_(M.value||"UnSelected"),1)])])):D("",!0),t("div",ne,[t("div",{class:i(C.value?"configure-active":"configure-default"),onClick:e[7]||(e[7]=s=>C.value=!C.value)}," More Configuration ",2),t("div",{class:"configure-box",style:A(C.value?"height: 15rem; margin-top: 1rem; border: solid 1px #7b7b7b;":"height: 0; margin: 0; border: none;")},[t("div",ce,[re,k(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[8]||(e[8]=s=>R.value=s)},null,512),[[h,R.value]])]),t("div",ue,[de,k(t("input",{class:"color-picker",type:"color","onUpdate:modelValue":e[9]||(e[9]=s=>y.value=s)},null,512),[[h,y.value]])]),t("div",ve,[pe,k(t("input",{class:"slider",type:"range","onUpdate:modelValue":e[10]||(e[10]=s=>w.value=s),min:"0",max:"20",step:"1"},null,512),[[h,w.value]]),t("span",me,_(w.value),1)]),t("div",fe,[ge,t("div",_e,[t("span",{class:i(c.value==="L"?"radio-active":"radio-default"),onClick:e[11]||(e[11]=s=>S("L"))}," low ",2),t("span",{class:i(c.value==="M"?"radio-active":"radio-default"),onClick:e[12]||(e[12]=s=>S("M"))}," medium ",2),t("span",{class:i(c.value==="Q"?"radio-active":"radio-default"),onClick:e[13]||(e[13]=s=>S("Q"))}," quartile ",2),t("span",{class:i(c.value==="H"?"radio-active":"radio-default"),onClick:e[14]||(e[14]=s=>S("H"))}," high ",2)])]),t("div",ke,[he,t("div",{class:"image-picker",onClick:q},"pick"),t("span",{class:i(["image-name",m.value===""?"":"clear-marker"]),title:"click to remove",onClick:B},_(m.value||"unused"),3)])],4)]),t("div",{class:"fake-btn",onClick:H},"Generate QR Code"),t("canvas",{ref_key:"outputContainer",ref:U},null,512)]))}});const $e=K(be,[["__scopeId","data-v-0fdfbe4d"]]);export{$e as default};
